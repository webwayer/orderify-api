import * as session from 'express-session'
import { Store } from 'express-session'
import { Router } from 'express'

export function statefulRouterFactory(router: Router, sessionStore: Store) {
    router.use(session({
        secret: 'keyboard cat',
        store: sessionStore,
        resave: false,
        saveUninitialized: false,
        cookie: {
            // secure: true,
            sameSite: 'lux',
            httpOnly: true,
        }
    }))

    return router;
}